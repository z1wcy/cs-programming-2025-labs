\documentclass[]{vvsu}

\vvsuyear{2025}

%%%%%%%%%%%%%%%%%%%

\usepackage{graphicx} % для изображений
\usepackage{tabularray} % для таблиц
\usepackage{siunitx} % для обозначений (процент, градус)
\usepackage{listings} % для листингов кода

% Список путей, где будут искаться изображения и файлы
\graphicspath{{images/}}

% Автор документа
\author{М.В.Кирийчук}

% Настройка стилей для листингов кода
\input{listing_styles.tex}

%%%%%%%%%%%%%%%%%%%

\begin{document}

% Шапка
\vvsuhead{\linespread{1}\selectfont{}МИНОБРНАУКИ РОССИИ\\
\vspace{10pt}Федеральное государственное бюджетное образовательное учреждение\\
высшего образования\\
\fontsize{13}{13}\selectfont{}<<ВЛАДИВОСТОКСКИЙ ГОСУДАРСТВЕННЫЙ УНИВЕРСИТЕТ>>\\
(ФГБОУ ВО <<ВВГУ>>)\\
\vspace{10pt}\fontsize{12}{12}\selectfont{}ИНСТИТУТ ИНФОРМАЦИОННЫХ ТЕХНОЛОГИЙ И АНАЛИЗА ДАННЫХ\\
КАФЕДРА ИНФОРМАЦИОННЫХ ТЕХНОЛОГИЙ И СИСТЕМ}

% Название отчета
\title{ОТЧЕТ\\ПО РАЗРАБОТКИ СИСТЕМЫ УПРАВЛЕНИЯ АВТОЗАПРАВОЧНОЙ СТАНЦИЕЙ НА\\PYTHON }
\subtitle{по дисциплине\\<<Информатика и программирование>>}

% Участники работы
\member{Студент\\ гр. БИН-25-3}{М.В. Кирийчук }
\member{Ассистент\\ преподавателя}{М.В. Водяницкий}

% Вывод титульника
\maketitle

% Содержание
\toc

% Глава - Выполнение работы
\section{Введение}

Автоматизация процессов на автозаправочных станциях (АЗС) играет ключевую роль в современном бизнесе. Консольные системы, используемые для этих целей, позволяют эффективно контролировать запасы топлива, вести учет продаж, оперативно реагировать на технические неисправности и обеспечивать бесперебойную работу станции.

Наша цель — разработать простую и надежную систему управления АЗС, которая будет функционировать без сбоев, будет интуитивно понятной и сможет эффективно выполнять все возложенные на нее задачи.

% Подглава - Принципы проектирования
\subsection{Принципы проектирования}

 При разработки были заложены следующие принципы:
 \begin{vvsu_list}
  \item[--]Надежность: все операции проверяются на корректность, некорректный ввод не приводит к аварийному завершению.
  \item[--] Состоятельность: система сохраняет полное состояние между запусками.
  \item[--] Безопасность: аварийный режим блокирует все операции и требует ручного восстановления.
  \item[--] Модульность: код разделён на логические компоненты, каждый из которых отвечает за свою зону ответственности.
\end{vvsu_list}
 Эти принципы обеспечивают соответствие требованиям промышленного программного обеспечения.

% Глава 2 - выполнение работы 
\section{Выполнение работы}
% подглава - архетектура программы
\subsection{Архетектура программы}
Программа реализована в виде единого класса FuelStation, который инкапсулирует всю логику управления станцией. Основные компоненты:

\begin{vvsu_list}
  \item[--] Данные цистерн: словарь cisterns с параметрами (тип, объём, состояние).
  \item[--] Цены на топливо: словарь fuel\_prices.
  \item[--] Колонки: словарь pumps с привязкой видов топлива к цистернам.
  \item[--] Финансы и статистика: баланс, количество обслуженных автомобилей, объёмы продаж.
  \item[--] История операций: список history для аудита.
  \item[--] Аварийный режим: флаг emergency\_mode.
\end{vvsu_list}

На рисунке \ref{fig:code_p_1} представлен код структуры класса FuelStation.

\begin{vvsu_figure}{Основная структура класса}{fig:code_p_1}
  \begin{minipage}{.75\textwidth}
    \lstinputlisting[language=Python,basicstyle=\fontsize{10}{10}\linespread{1}\selectfont\ttfamily]{code/p1.py}
  \end{minipage}
\end{vvsu_figure}

Такой подход позволяет управлять всеми аспектами станции в рамках одного объекта, что упрощает сериализацию и восстановление состояния.

% Подглава - Инициализация станции
\subsection{Инициализация станции}

При первом запуске создаётся стандартная конфигурация, соответствующая техническому заданию:

\begin{vvsu_list}
  \item 5 цистерн с разными типами топлива (AI‑92, AI‑95, AI‑98, DT) и начальными уровнями.
  \item 8 колонок с заданными привязками к цистернам.
\end{vvsu_list}

На рисунке \ref{fig:code_p_2} представлена инициализация цистерн.

\begin{vvsu_figure}{Инициализация цистерн}{fig:code_p_2}
  \begin{minipage}{.75\textwidth}
    \lstinputlisting[language=Python,basicstyle=\fontsize{10}{10}\linespread{1}\selectfont\ttfamily]{code/p2.py}
  \end{minipage}
\end{vvsu_figure}

Метод initialize\_data заполняет структуры начальными значениями, после чего вызывается проверка уровня топлива для автоматического отключения цистерн с низким запасом.


% Подглава - обслуживание клиентов 
\subsection{Обслуживание клиентов}

Метод serve\_customer реализует полный цикл продажи:

\begin{vvsu_list}
  \item[--] Проверка аварийного режима.
  \item[--] Выбор доступной колонки.
  \item[--] Выбор типа топлива с учётом состояния цистерны.
  \item[--] Ввод количества литров и проверка достаточности запаса.
  \item[--] Расчёт стоимости и подтверждение оплаты.
  \item[--] Списание топлива, обновление статистики, запись в историю.
\end{vvsu_list}

На рисунке \ref{fig:code_p_3} представлен код логики продаж.

\begin{vvsu_figure}{Основная логика продажи}{fig:code_p_3}
  \begin{minipage}{.75\textwidth}
    \lstinputlisting[language=Python,basicstyle=\fontsize{10}{10}\linespread{1}\selectfont\ttfamily]{code/p3.py}
  \end{minipage}
\end{vvsu_figure}

Все этапы защищены проверками ввода, что исключает аварийное завершение при ошибках пользователя.

% Подглава - пополнение и перкачка топлива 
\subsection{Пополнение и перекачка топлива}

Операции пополнения refuel\_cistern и перекачки transfer\_fuel реализованы с учётом бизнес-ограничений:

\begin{vvsu_list}
  \item Рисунок \ref{fig:code_p_4}: проверка на превышение максимального объёма цистерны.
  \item Рисунок \ref{fig:code_p_5}: разрешена только между цистернами одного типа топлива; контролируются достаточность топлива в источнике и свободный объём в приёмнике.
\end{vvsu_list}

\begin{vvsu_figure}{Пополнение цистерны}{fig:code_p_4}
  \begin{minipage}{.75\textwidth}
    \lstinputlisting[language=Python,basicstyle=\fontsize{10}{10}\linespread{1}\selectfont\ttfamily]{code/p4.py}
  \end{minipage}
\end{vvsu_figure}

\begin{vvsu_figure}{Перекачка топлива}{fig:code_p_5}
  \begin{minipage}{.75\textwidth}
    \lstinputlisting[language=Python,basicstyle=\fontsize{10}{10}\linespread{1}\selectfont\ttfamily]{code/p5.py}
  \end{minipage}
\end{vvsu_figure}

Обе операции логируются в истории.


% Подглава - аварийный режим
\subsection{Аварийный режим}

Аварийный режим имитирует критическую ситуацию (утечка, пожар). При активации emergency\_mode\_handler\:

\begin{vvsu_list}
  \item все цистерны немедленно отключаются;
  \item блокируются все коммерческие операции;
  \item фиксируется событие в истории;
  \item выводится сообщение о вызове служб.
\end{vvsu_list}

Код аварийного режима предаставлен на рисунке \ref{fig:code_p_6}

\begin{vvsu_figure}{Аварийный режим}{fig:code_p_6}
  \begin{minipage}{.75\textwidth}
    \lstinputlisting[language=Python,basicstyle=\fontsize{10}{10}\linespread{1}\selectfont\ttfamily]{code/p6.py}
  \end{minipage}
\end{vvsu_figure}

Выход из аварийного режима возможен только вручную, при этом цистерны не включаются автоматически — требование ТЗ выполнено строго.

% Подглава - сохраниение данных
\subsection{Сохранение данных}

Все данные сохраняются в файл station\_data\.json в формате JSON. Структура включает:

\begin{vvsu_list}
  \item состояние цистерн;
  \item баланс и статистику;
  \item историю операций;
  \item флаг аварийного режима.
\end{vvsu_list}

Код сохранение данных изабражен на рисунке  \ref{fig:code_p_7}

\begin{vvsu_figure}{Сохранение данных}{fig:code_p_7}
  \begin{minipage}{.75\textwidth}
    \lstinputlisting[language=Python,basicstyle=\fontsize{10}{10}\linespread{1}\selectfont\ttfamily]{code/p7.py}
  \end{minipage}
\end{vvsu_figure}

Методы save\_data и load\_data обеспечивают полное восстановление состояния программы после перезапуска.

% Глава 3 - Тестирование
\section{Тестирование}
В процессе разработки и после её завершения была проведена всесторонняя проверка функциональности системы. Тестирование включало следующие основные сценарии использования:

Было проведено комплексное тестирование всех функций системы. Проверялась корректность основных операций: обслуживания клиентов (полный цикл от выбора колонки до фиксации продажи), пополнения цистерн с валидацией объёмов и перекачки топлива между цистернами одного типа.

Система устойчива к некорректному вводу — обрабатывает нечисловые значения, отрицательные величины и выбор несуществующих пунктов. Аварийный режим корректно блокирует все операции, а после его отключения цистерны остаются заблокированными, как требует ТЗ.

Механизмы сохранения данных работают надёжно: состояние полностью восстанавливается после перезапуска. Автоматическое отключение цистерн при низком уровне топлива выполняется корректно. Все тесты подтвердили соответствие системы техническому заданию.

% Глава 4 - Заключение
\section{Заключение}

Разработан прототип системы управления АЗС на Python, полностью соответствующий ТЗ. Реализованы:
\begin{vvsu_list}
  \item полный цикл обслуживания клиентов;
  \item управление запасами с автоматическим контролем уровня;
  \item операции пополнения и перекачки топлива;
  \item аварийный режим с ручным восстановлением;
  \item сохранение состояния между запусками.
\end{vvsu_list}

Архитектура на основе класса FuelStation обеспечивает связность и простоту поддержки. Код устойчив к ошибкам ввода, логирует все операции и легко расширяем.

Система готова для учебного использования и может служить основой для дальнейшего развития (веб-интерфейс, интеграция с учётными системами). Работа подтвердила возможность создания надёжных консольных систем управления на Python.
\end{document}