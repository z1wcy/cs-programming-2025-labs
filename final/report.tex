\documentclass[]{vvsu}

\vvsuyear{2025}

%%%%%%%%%%%%%%%%%%%

\usepackage{graphicx} % для изображений
\usepackage{tabularray} % для таблиц
\usepackage{siunitx} % для обозначений (процент, градус)
\usepackage{listings} % для листингов кода
\usepackage[utf8]{inputenc} % для поддержки кириллицы
\usepackage[T1]{fontenc} % для правильного отображения шрифтов
\usepackage{float} % для позиционирования рисунков

% Список путей, где будут искаться изображения и файлы
\graphicspath{{images/}}

% Автор документа
\author{М.В. Кирийчук}

% Настройка стилей для листингов кода
\input{listing_styles.tex}

%%%%%%%%%%%%%%%%%%%

\begin{document}

% Шапка
\vvsuhead{\linespread{1}\selectfont{}МИНОБРНАУКИ РОССИИ\\
\vspace{10pt}Федеральное государственное бюджетное образовательное учреждение\\
высшего образования\\
\fontsize{13}{13}\selectfont{}<<ВЛАДИВОСТОКСКИЙ ГОСУДАРСТВЕННЫЙ УНИВЕРСИТЕТ>>\\
(ФГБОУ ВО <<ВВГУ>>)\\
\vspace{10pt}\fontsize{12}{12}\selectfont{}ИНСТИТУТ ИНФОРМАЦИОННЫХ ТЕХНОЛОГИЙ И АНАЛИЗА ДАННЫХ\\
КАФЕДРА ИНФОРМАЦИОННЫХ ТЕХНОЛОГИЙ И СИСТЕМ}

% Название отчета
\title{Отчет\\по курсовому проекту}
\subtitle{по дисциплине\\<<Программирование>>}

% Участники работы
\member{Студент\\ гр. БИН-25-3}{М.В. Кирийчук}
\member{Преподаватель}{М.В. Водяницкий}

% Вывод титульника
\maketitle

% Техническое задание
\begin{addition}{Техническое задание}
\subsection*{Техническое задание - Система управления автозаправочной станцией}

Вы работаете в российской компании "НефтеСофт", разрабатывающей программное обеспечение для автоматизации автозаправочных станций.
Вам поручено создать консольный прототип системы управления АЗС, который используется операторами и техническим персоналом станции

Система должна учитывать реальные процессы работы заправки: продажи топлива, контроль запасов, обслуживание цистерн, аварийные ситуации и ведение статистики

\subsection*{1. Общая идея программы}

Программа представляет собой консольную систему управления автозаправочной станцией, которая позволяет:

\begin{vvsu_itemize}
  \item обслуживать клиентов (касса)
  \item контролировать запасы топлива
  \item управлять цистернами и колонками
  \item оформлять пополнение топлива
  \item вести историю операций и статистику
  \item обрабатывать аварийные ситуации
\end{vvsu_itemize}

Программа работает в виде меню с выбором действий и функционирует в непрерывном цикле до выхода пользователя

\subsection*{2. Топливо и цистерны}

\subsubsection*{2.1 Типы топлива}

На заправке используются следующие виды топлива:

\begin{vvsu_itemize}
  \item АИ-92
  \item АИ-95
  \item АИ-98
  \item ДТ (дизельное топливо)
\end{vvsu_itemize}

\subsubsection*{2.2 Цистерны}

\begin{vvsu_itemize}
  \item Для одного типа топлива может существовать несколько подземных цистерн
  \item Каждая цистерна имеет:
    \begin{vvsu_itemize}
      \item тип топлива
      \item максимальный объем
      \item текущий уровень топлива
      \item состояние (включена / отключена)
      \item минимальный допустимый уровень
    \end{vvsu_itemize}
\end{vvsu_itemize}

\textbf{Важно:}
\begin{vvsu_itemize}
  \item Если уровень топлива в цистерне падает ниже минимального порога:
    \begin{vvsu_itemize}
      \item цистерна автоматически отключается
      \item из нее нельзя отпускать топливо
    \end{vvsu_itemize}
  \item После пополнения:
    \begin{vvsu_itemize}
      \item цистерна не включается автоматически (после пополнения топливом)
      \item включение производится вручную через меню
    \end{vvsu_itemize}
\end{vvsu_itemize}

\subsection*{3. Колонки}

\subsubsection*{3.1 Общая схема}

\begin{vvsu_itemize}
  \item На заправке есть несколько колонок
  \item Каждая колонка:
    \begin{vvsu_itemize}
      \item поддерживает несколько типов топлива
      \item каждый тип топлива (пистолет) подключен к конкретной цистерне
    \end{vvsu_itemize}
  \item Не все колонки подключены ко всем цистернам
\end{vvsu_itemize}

\subsubsection*{3.2 Схема заправки}

\begin{vvsu_itemize}
  \item Цистерны:
    \begin{vvsu_itemize}
      \item АИ-95 №1 → колонки 1 - 4
      \item АИ-95 №2 → колонки 5 - 8
      \item АИ-92 → колонки 1 - 6
      \item АИ-98 → колонки 3 - 6
      \item ДТ → колонки 3 - 8
    \end{vvsu_itemize}
  \item Всего колонок: 8
  \item Каждая колонка имеет 2 - 3 пистолета
\end{vvsu_itemize}

\subsection*{4. Главное меню программы}

В главном меню пользователь может выбрать одно из действий:

\begin{verbatim}
1) Обслужить клиента (касса)
2) Проверить состояние цистерн
3) Оформить пополнение топлива
4) Баланс и статистика
5) История операций
6) Перекачка топлива между цистернами
7) Включение / отключение цистерн
8) Состояние колонок
9) EMERGENCY - аварийная ситуация
0) Выход
\end{verbatim}

\subsection*{5. Функциональные требования}

\subsubsection*{5.1 Обслуживание клиента (касса)}

Система должна:

\begin{vvsu_itemize}
  \item принять запрос:
    \begin{vvsu_itemize}
      \item номер колонки
      \item тип топлива
      \item количество литров
    \end{vvsu_itemize}
  \item проверить:
    \begin{vvsu_itemize}
      \item доступность колонки
      \item состояние цистерны
      \item достаточность топлива
    \end{vvsu_itemize}
  \item рассчитать стоимость
  \item запросить подтверждение оплаты
  \item при подтверждении:
    \begin{vvsu_itemize}
      \item списать топливо
      \item зафиксировать транзакцию
    \end{vvsu_itemize}
  \item при нехватке топлива:
    \begin{vvsu_itemize}
      \item сообщить об ошибке
      \item не допустить оплату
    \end{vvsu_itemize}
\end{vvsu_itemize}

\subsubsection*{5.2 Проверка состояния цистерн}

Вывод информации:

\begin{vvsu_itemize}
  \item тип топлива
  \item текущий объем
  \item максимальный объем
  \item состояние (включена / отключена)
  \item предупреждения о низком уровне
\end{vvsu_itemize}

\subsubsection*{5.3 Пополнение топлива}

При прибытии бензовоза:

\begin{vvsu_itemize}
  \item выбрать тип топлива
  \item выбрать конкретную цистерну
  \item указать количество литров
  \item проверить, не превышает ли объем максимум
  \item зафиксировать операцию в истории
\end{vvsu_itemize}

\subsubsection*{5.4 Баланс и статистика}

Система должна отображать:

\begin{vvsu_itemize}
  \item общий доход
  \item количество обслуженных автомобилей
  \item сколько раз покупали каждый тип топлива
  \item сколько литров каждого топлива продано
  \item доход по каждому виду топлива
\end{vvsu_itemize}

\subsubsection*{5.5 История операций}

Вывод последних операций:

\begin{vvsu_itemize}
  \item продажи топлива
  \item пополнение цистерн
  \item перекачка топлива
  \item отключения и включения цистерн
  \item аварийные события
\end{vvsu_itemize}

\subsubsection*{5.6 Перекачка топлива}

\begin{vvsu_itemize}
  \item Перекачка возможна только между цистернами одного типа топлива
  \item Указывается:
    \begin{vvsu_itemize}
      \item источник
      \item приемник
      \item объем
    \end{vvsu_itemize}
  \item Проверяется:
    \begin{vvsu_itemize}
      \item достаточность топлива
      \item вместимость целевой цистерны
    \end{vvsu_itemize}
\end{vvsu_itemize}

\subsubsection*{5.7 Управление цистернами}

Пользователь может:

\begin{vvsu_itemize}
  \item вручную отключать цистерны
  \item вручную включать цистерны (если уровень топлива достаточен)
\end{vvsu_itemize}

\subsubsection*{5.8 Состояние колонок}

Выводится информация:

\begin{vvsu_itemize}
  \item номер колонки
  \item какие типы топлива доступны
  \item к каким цистернам они подключены
  \item какие пистолеты временно не работают (определяется по подключенным цистернам)
\end{vvsu_itemize}

\subsubsection*{5.9 Аварийная ситуация (Emergency)}

\begin{vvsu_itemize}
  \item При подтверждении аварии:
    \begin{vvsu_itemize}
      \item все цистерны блокируются
      \item заправка прекращает работу
      \item фиксируется аварийное событие
      \item имитируется вызов аварийных служб
    \end{vvsu_itemize}
  \item Выход из аварийного режима возможен только вручную
  \item При выходе из аварийного режима цистерны автоматически НЕ разблокируются
\end{vvsu_itemize}

\subsection*{6. Хранение данных}

Все данные обязательно сохраняются в файлах (рекомендуется JSON):

\begin{vvsu_itemize}
  \item состояние цистерн
  \item схема колонок
  \item баланс и статистика
  \item история операций
\end{vvsu_itemize}

Перезапуск программы не должен сбрасывать состояние заправки

\subsection*{7. Ограничения и требования}

\begin{vvsu_itemize}
  \item Программа консольная
  \item Работа через меню и ввод команд
  \item Язык программирования не ограничен
  \item Код должен быть структурирован и читаем
\end{vvsu_itemize}
\end{addition}

% Содержание
\renewcommand{\contentsname}{Содержание}
\tableofcontents

% Глава - Описание системы
\section{Описание системы}

Система управления автозаправочной станцией реализована на языке Python в объектно-ориентированном стиле. Основной класс \texttt{FuelStation} содержит всю логику работы АЗС.

\subsection{Структура данных}

\begin{vvsu_itemize}
  \item \textbf{Цистерны (cisterns)}: Словарь с данными о каждой цистерне (тип топлива, максимальный и текущий объём, состояние включения, минимальный уровень)
  \item \textbf{Колонки (pumps)}: Словарь с информацией о доступных видах топлива на каждой колонке
  \item \textbf{Баланс и статистика}: Учёт обслуженных автомобилей, проданного топлива и доходов по типам топлива
  \item \textbf{История операций}: Лог всех действий с временными метками
  \item \textbf{Аварийный режим}: Флаг для блокировки всех операций при аварии
\end{vvsu_itemize}

\subsection{Функциональные модули}

\begin{enumerate}
  \item Обслуживание клиентов (касса)
  \item Мониторинг состояния цистерн
  \item Пополнение запасов топлива
  \item Просмотр баланса и статистики
  \item Просмотр истории операций
  \item Перекачка топлива между цистернами
  \item Управление включением/отключением цистерн
  \item Просмотр состояния колонок
  \item Аварийный режим
\end{enumerate}

% Глава - Реализация
\section{Реализация}

\subsection{Архитектура системы}

Класс \texttt{FuelStation} инкапсулирует все аспекты работы АЗС. Используются следующие основные методы:

\begin{itemize}
  \item \texttt{\_\_init\_\_()} — инициализация начальных данных
  \item \texttt{initialize\_data()} — настройка начального состояния цистерн и колонок
  \item \texttt{save\_data()} / \texttt{load\_data()} — сохранение и загрузка состояния в JSON
  \item \texttt{log\_operation()} — запись действий в историю
  \item \texttt{check\_low\_levels()} — автоматическая проверка и отключение цистерн с низким уровнем
\end{itemize}

\subsection{Меню и интерфейс}

Система предоставляет текстовое меню с 9 пунктами управления. При запуске автоматически проверяются цистерны с низким уровнем топлива и выводятся соответствующие предупреждения.

\subsection{Безопасность и контроль}

\begin{itemize}
  \item Автоматическое отключение цистерн при достижении минимального уровня
  \item Проверка достаточности топлива при обслуживании клиентов
  \item Валидация вводимых данных
  \item Блокировка операций в аварийном режиме
  \item Подтверждение критических операций
\end{itemize}

% Глава - Примеры работы
\section{Примеры работы}

\subsection{Обслуживание клиента}

Пример работы системы при обслуживании клиента:

\begin{verbatim}
--- Обслуживание клиента ---
Доступные колонки:
1) Колонка 1
2) Колонка 2
3) Колонка 3
4) Колонка 4
Выберите колонку: 3
Колонка 3
Доступные виды топлива:
1) AI-95 (цистерна AI-95_1)
2) AI-92 (цистерна AI-92_1)
3) AI-98 (цистерна AI-98_1) - НЕДОСТУПНО
4) DT (цистерна DT_1)
Выберите тип топлива: 1
Введите количество литров: 50

Стоимость:
50 л × 51.20 ₽ = 2560.00 ₽
Подтвердить оплату? (y/n): y
Операция выполнена успешно.
Спасибо за покупку!
\end{verbatim}

\subsection{Проверка состояния цистерн}

Пример вывода информации о состоянии цистерн:

\begin{verbatim}
--- Состояние цистерн ---
Доступные цистерны:
AI-92_1 | 12400 / 20000 л | ВКЛ
AI-95_1 | 9800 / 20000 л | ВКЛ
AI-95_2 | 1200 / 20000 л | ВЫКЛ (ниже порога)
AI-98_1 | 10000 / 15000 л | ВЫКЛ
DT_1 | 15600 / 25000 л | ВКЛ
\end{verbatim}

\subsection{Аварийный режим}

Пример работы аварийного режима:

\begin{verbatim}
--- EMERGENCY - аварийная ситуация ---
ВНИМАНИЕ! Все цистерны будут заблокированы!
Подтвердить аварию? (y/n): y
Аварийный режим активирован. Заправка остановлена.
Выйти из аварийного режима? (y/n): y
Аварийный режим завершен.
\end{verbatim}

% Глава - Исходный код
\section{Исходный код}

В этом разделе представлены ключевые фрагменты исходного кода системы.

\subsection{Класс FuelStation и инициализация}

\begin{vvsu_figure}{Листинг класса FuelStation}{fig:code_class}
  \begin{minipage}{.95\textwidth}
    \lstinputlisting[
      language=Python,
      basicstyle=\fontsize{8}{8}\linespread{1}\selectfont\ttfamily,
      firstline=1,
      lastline=60,
      breaklines=true
    ]{code_fuel_station.py}
  \end{minipage}
\end{vvsu_figure}

\subsection{Метод обслуживания клиента}

\begin{vvsu_figure}{Листинг метода serve\_customer}{fig:code_serve}
  \begin{minipage}{.95\textwidth}
    \lstinputlisting[
      language=Python,
      basicstyle=\fontsize{8}{8}\linespread{1}\selectfont\ttfamily,
      firstline=120,
      lastline=190,
      breaklines=true
    ]{code_fuel_station.py}
  \end{minipage}
\end{vvsu_figure}

\subsection{Метод проверки состояния цистерн}

\begin{vvsu_figure}{Листинг метода check\_cisterns}{fig:code_check}
  \begin{minipage}{.95\textwidth}
    \lstinputlisting[
      language=Python,
      basicstyle=\fontsize{8}{8}\linespread{1}\selectfont\ttfamily,
      firstline=193,
      lastline=210,
      breaklines=true
    ]{code_fuel_station.py}
  \end{minipage}
\end{vvsu_figure}

\subsection{Метод аварийного режима}

\begin{vvsu_figure}{Листинг метода emergency\_mode\_handler}{fig:code_emergency}
  \begin{minipage}{.95\textwidth}
    \lstinputlisting[
      language=Python,
      basicstyle=\fontsize{8}{8}\linespread{1}\selectfont\ttfamily,
      firstline=400,
      lastline=430,
      breaklines=true
    ]{code_fuel_station.py}
  \end{minipage}
\end{vvsu_figure}

\subsection{Главный цикл программы}

\begin{vvsu_figure}{Листинг главного цикла программы}{fig:code_main}
  \begin{minipage}{.95\textwidth}
    \lstinputlisting[
      language=Python,
      basicstyle=\fontsize{8}{8}\linespread{1}\selectfont\ttfamily,
      firstline=435,
      lastline=480,
      breaklines=true
    ]{code_fuel_station.py}
  \end{minipage}
\end{vvsu_figure}

% Заключение
\section{Заключение}

Разработанная система управления автозаправочной станцией <<СеверНефть>> удовлетворяет всем требованиям технического задания:

\begin{vvsu_itemize}
  \item Обеспечивает полный цикл управления топливными ресурсами
  \item Реализует безопасное обслуживание клиентов с проверкой остатков
  \item Предоставляет инструменты для оперативного управления цистернами
  \item Ведёт детальный учёт финансовой статистики
  \item Сохраняет историю всех операций для аудита
  \item Обеспечивает сохранение состояния между сеансами работы
  \item Включает механизмы безопасности (аварийный режим, автоматическое отключение)
\end{vvsu_itemize}

Система демонстрирует применение принципов объектно-ориентированного программирования, обработки исключений, работы с файлами в формате JSON и построения интерактивных текстовых интерфейсов. Код хорошо структурирован, документирован и может быть расширен для добавления новой функциональности.

Все программные модули протестированы и работают корректно согласно примерам, приведенным в разделе 3 данного отчета.

\end{document}